---
layout: post
title:  "Instalar Windows 11 en KVM Linux"
date:   2026-01-01 10:32:00
categories: windows11 kvm linux
---

# Instalar MS Windows 11 en maquina virtual KVM Linux

⠀⠀⠀⣤⣴⣾⣿⣿⣿⣿⣿⣶⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⡄
⠀⠀⢀⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⢰⣦⣄⣀⣀⣠⣴⣾⣿⠃
⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⡏⠀⠀⣼⣿⣿⣿⣿⣿⣿⣿⣿⠀
⠀⠀⣼⣿⡿⠿⠛⠻⠿⣿⣿⡇⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⡿⠀
⠀⠀⠉⠀⠀⠀⢀⠀⠀⠀⠈⠁⠀⢰⣿⣿⣿⣿⣿⣿⣿⣿⠇⠀
⠀⠀⣠⣴⣶⣿⣿⣿⣷⣶⣤⠀⠀⠀⠈⠉⠛⠛⠛⠉⠉⠀⠀⠀
⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⣶⣦⣄⣀⣀⣀⣤⣤⣶⠀⠀
⠀⣾⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⢀⣿⣿⣿⣿⣿⣿⣿⣿⡟⠀⠀
⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⠁⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀
⢠⣿⡿⠿⠛⠉⠉⠉⠛⠿⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⠁⠀⠀
⠘⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⢿⣿⣿⣿⣿⣿⠿⠛⠀⠀⠀

Regularmente doy acompañamiento técnico a personas Defensoras de Derechos Humanos y periodistas por lo que afortunadamente tengo amplia experiencia con varios sistemas operativos distintos a mi sistema operativo de cabecera (Debian), razon por la cual tengo en mi computadora principal varias maquinas virtuales para tener a la mano el entorno al que estoy dando soporte, por lo que siempre tengo maquinas virtuales con Windows (entre otras), ahora que se forzó el cambio a Windows 11 [https://support.microsoft.com/es-es/windows/-puedo-actualizar-a-windows-11-14c25efc-ecb7-4ce6-a3dd-7e2e24476997](https://support.microsoft.com/es-es/windows/-puedo-actualizar-a-windows-11-14c25efc-ecb7-4ce6-a3dd-7e2e24476997) me vi en la necesidad de instalarme una maquina virtual de Windows 11, esto lo hice a partir de la atualización de una Maquina Virtual con Windows 10, pero para poder validar la actualización se tienen que realizar los siguientes pasos:

ejecutar regedit desde "ejecutar", que abrira el [registro](https://es.wikipedia.org/wiki/Registro_de_Windows),

{% highlight c++ %}

## localizar el siguiente registro:

HKEY_LOCAL_MACHINE\SYSTEM\Setup\MoSetup

crear "DWORD (32 bits)"

"AllowUpgradesWithUnsupportedTPMOrCPU" con valor =  1.

en la siguiente parte del registro:

HKEY_LOCAL_MACHINE\SYSTEM\Setup\

Crear nueva clave "LabConfig"

dentro de LabConfig, crea DWORD (32-bit) con los siguientes valores :

"BypassTPMCheck" con valor = 1.
"BypassSecureBootCheck" con valor = 1.
"BypassRAMCheck" con valor = 1.

Apaga todas las MV en ejecución y detener el módulo kvm_probe:

# sudo modprobe -r kvm_intel

Activa la característica anidada:

sudo modprobe kvm_intel nested=1

{% endhighlight %}

y ahora si ejecuta la actualización a windows 11 desde el "Windows Update" (buscar actualizaciones)

deberia de pasar por alto las restricciones y comenzar con la actualización a Windows 11.
